=== Nine Language Parser Test ===

✅ Parse Successful! (Time: 279.439µs)
--------------------------------------------------
Program {
    items: [
        Item {
            kind: ModuleDecl {
                name: Identifier {
                    name: "math",
                    span: Span {
                        start: 9,
                        end: 13,
                    },
                },
                is_pub: true,
            },
            span: Span {
                start: 1,
                end: 14,
            },
        },
        Item {
            kind: Import {
                path: Path {
                    segments: [
                        Identifier {
                            name: "std",
                            span: Span {
                                start: 19,
                                end: 22,
                            },
                        },
                        Identifier {
                            name: "io",
                            span: Span {
                                start: 24,
                                end: 26,
                            },
                        },
                        Identifier {
                            name: "print",
                            span: Span {
                                start: 28,
                                end: 33,
                            },
                        },
                    ],
                    span: Span {
                        start: 19,
                        end: 33,
                    },
                },
                alias: None,
                is_pub: false,
            },
            span: Span {
                start: 15,
                end: 34,
            },
        },
        Item {
            kind: StructDecl(
                StructDefinition {
                    name: Identifier {
                        name: "Point",
                        span: Span {
                            start: 46,
                            end: 51,
                        },
                    },
                    fields: [
                        FieldDefinition {
                            name: Identifier {
                                name: "x",
                                span: Span {
                                    start: 58,
                                    end: 59,
                                },
                            },
                            ty: Type {
                                kind: Primitive(
                                    I32,
                                ),
                                span: Span {
                                    start: 61,
                                    end: 64,
                                },
                            },
                            span: Span {
                                start: 58,
                                end: 65,
                            },
                        },
                        FieldDefinition {
                            name: Identifier {
                                name: "y",
                                span: Span {
                                    start: 70,
                                    end: 71,
                                },
                            },
                            ty: Type {
                                kind: Primitive(
                                    I32,
                                ),
                                span: Span {
                                    start: 73,
                                    end: 76,
                                },
                            },
                            span: Span {
                                start: 70,
                                end: 77,
                            },
                        },
                    ],
                    static_methods: [],
                    alignment: Some(
                        8,
                    ),
                    span: Span {
                        start: 36,
                        end: 79,
                    },
                },
            ),
            span: Span {
                start: 36,
                end: 79,
            },
        },
        Item {
            kind: EnumDecl(
                EnumDefinition {
                    name: Identifier {
                        name: "Color",
                        span: Span {
                            start: 86,
                            end: 91,
                        },
                    },
                    underlying_type: Some(
                        U8,
                    ),
                    variants: [
                        EnumVariant {
                            name: Identifier {
                                name: "Red",
                                span: Span {
                                    start: 103,
                                    end: 106,
                                },
                            },
                            value: Some(
                                Expression {
                                    kind: Literal(
                                        Integer(
                                            1,
                                        ),
                                    ),
                                    span: Span {
                                        start: 109,
                                        end: 110,
                                    },
                                },
                            ),
                            span: Span {
                                start: 103,
                                end: 111,
                            },
                        },
                        EnumVariant {
                            name: Identifier {
                                name: "Blue",
                                span: Span {
                                    start: 116,
                                    end: 120,
                                },
                            },
                            value: None,
                            span: Span {
                                start: 116,
                                end: 121,
                            },
                        },
                        EnumVariant {
                            name: Identifier {
                                name: "Green",
                                span: Span {
                                    start: 126,
                                    end: 131,
                                },
                            },
                            value: None,
                            span: Span {
                                start: 126,
                                end: 132,
                            },
                        },
                    ],
                    static_methods: [],
                    span: Span {
                        start: 81,
                        end: 134,
                    },
                },
            ),
            span: Span {
                start: 81,
                end: 134,
            },
        },
        Item {
            kind: Implementation {
                target_type: Type {
                    kind: Named(
                        Path {
                            segments: [
                                Identifier {
                                    name: "Point",
                                    span: Span {
                                        start: 144,
                                        end: 149,
                                    },
                                },
                            ],
                            span: Span {
                                start: 144,
                                end: 149,
                            },
                        },
                    ),
                    span: Span {
                        start: 144,
                        end: 149,
                    },
                },
                methods: [
                    FunctionDefinition {
                        name: Identifier {
                            name: "new",
                            span: Span {
                                start: 163,
                                end: 166,
                            },
                        },
                        params: [
                            Parameter {
                                name: Identifier {
                                    name: "x",
                                    span: Span {
                                        start: 167,
                                        end: 168,
                                    },
                                },
                                ty: Type {
                                    kind: Primitive(
                                        I32,
                                    ),
                                    span: Span {
                                        start: 170,
                                        end: 173,
                                    },
                                },
                                is_mutable: false,
                                is_self: false,
                            },
                            Parameter {
                                name: Identifier {
                                    name: "y",
                                    span: Span {
                                        start: 175,
                                        end: 176,
                                    },
                                },
                                ty: Type {
                                    kind: Primitive(
                                        I32,
                                    ),
                                    span: Span {
                                        start: 178,
                                        end: 181,
                                    },
                                },
                                is_mutable: false,
                                is_self: false,
                            },
                        ],
                        return_type: Some(
                            Type {
                                kind: Named(
                                    Path {
                                        segments: [
                                            Identifier {
                                                name: "Point",
                                                span: Span {
                                                    start: 186,
                                                    end: 191,
                                                },
                                            },
                                        ],
                                        span: Span {
                                            start: 186,
                                            end: 191,
                                        },
                                    },
                                ),
                                span: Span {
                                    start: 186,
                                    end: 191,
                                },
                            },
                        ),
                        body: Block {
                            stmts: [
                                Statement {
                                    kind: Return(
                                        Some(
                                            Expression {
                                                kind: StructLiteral {
                                                    type_name: Path {
                                                        segments: [
                                                            Identifier {
                                                                name: "Point",
                                                                span: Span {
                                                                    start: 206,
                                                                    end: 211,
                                                                },
                                                            },
                                                        ],
                                                        span: Span {
                                                            start: 206,
                                                            end: 211,
                                                        },
                                                    },
                                                    fields: [
                                                        StructFieldInit {
                                                            field_name: Identifier {
                                                                name: "x",
                                                                span: Span {
                                                                    start: 214,
                                                                    end: 215,
                                                                },
                                                            },
                                                            value: Expression {
                                                                kind: Path(
                                                                    Path {
                                                                        segments: [
                                                                            Identifier {
                                                                                name: "x",
                                                                                span: Span {
                                                                                    start: 217,
                                                                                    end: 218,
                                                                                },
                                                                            },
                                                                        ],
                                                                        span: Span {
                                                                            start: 217,
                                                                            end: 218,
                                                                        },
                                                                    },
                                                                ),
                                                                span: Span {
                                                                    start: 217,
                                                                    end: 218,
                                                                },
                                                            },
                                                            span: Span {
                                                                start: 214,
                                                                end: 218,
                                                            },
                                                        },
                                                        StructFieldInit {
                                                            field_name: Identifier {
                                                                name: "y",
                                                                span: Span {
                                                                    start: 220,
                                                                    end: 221,
                                                                },
                                                            },
                                                            value: Expression {
                                                                kind: Path(
                                                                    Path {
                                                                        segments: [
                                                                            Identifier {
                                                                                name: "y",
                                                                                span: Span {
                                                                                    start: 223,
                                                                                    end: 224,
                                                                                },
                                                                            },
                                                                        ],
                                                                        span: Span {
                                                                            start: 223,
                                                                            end: 224,
                                                                        },
                                                                    },
                                                                ),
                                                                span: Span {
                                                                    start: 223,
                                                                    end: 224,
                                                                },
                                                            },
                                                            span: Span {
                                                                start: 220,
                                                                end: 224,
                                                            },
                                                        },
                                                    ],
                                                },
                                                span: Span {
                                                    start: 206,
                                                    end: 226,
                                                },
                                            },
                                        ),
                                    ),
                                    span: Span {
                                        start: 202,
                                        end: 227,
                                    },
                                },
                            ],
                            span: Span {
                                start: 192,
                                end: 233,
                            },
                        },
                        is_pub: true,
                        span: Span {
                            start: 156,
                            end: 233,
                        },
                    },
                    FunctionDefinition {
                        name: Identifier {
                            name: "dist_sq",
                            span: Span {
                                start: 246,
                                end: 253,
                            },
                        },
                        params: [
                            Parameter {
                                name: Identifier {
                                    name: "self",
                                    span: Span {
                                        start: 260,
                                        end: 264,
                                    },
                                },
                                ty: Type {
                                    kind: Named(
                                        Path {
                                            segments: [
                                                Identifier {
                                                    name: "Point",
                                                    span: Span {
                                                        start: 144,
                                                        end: 149,
                                                    },
                                                },
                                            ],
                                            span: Span {
                                                start: 144,
                                                end: 149,
                                            },
                                        },
                                    ),
                                    span: Span {
                                        start: 144,
                                        end: 149,
                                    },
                                },
                                is_mutable: false,
                                is_self: true,
                            },
                        ],
                        return_type: Some(
                            Type {
                                kind: Primitive(
                                    I32,
                                ),
                                span: Span {
                                    start: 269,
                                    end: 272,
                                },
                            },
                        ),
                        body: Block {
                            stmts: [
                                Statement {
                                    kind: Return(
                                        Some(
                                            Expression {
                                                kind: Binary {
                                                    lhs: Expression {
                                                        kind: Binary {
                                                            lhs: Expression {
                                                                kind: FieldAccess {
                                                                    receiver: Expression {
                                                                        kind: Path(
                                                                            Path {
                                                                                segments: [
                                                                                    Identifier {
                                                                                        name: "self",
                                                                                        span: Span {
                                                                                            start: 287,
                                                                                            end: 291,
                                                                                        },
                                                                                    },
                                                                                ],
                                                                                span: Span {
                                                                                    start: 287,
                                                                                    end: 291,
                                                                                },
                                                                            },
                                                                        ),
                                                                        span: Span {
                                                                            start: 287,
                                                                            end: 291,
                                                                        },
                                                                    },
                                                                    field_name: Identifier {
                                                                        name: "x",
                                                                        span: Span {
                                                                            start: 292,
                                                                            end: 293,
                                                                        },
                                                                    },
                                                                },
                                                                span: Span {
                                                                    start: 287,
                                                                    end: 293,
                                                                },
                                                            },
                                                            op: Multiply,
                                                            rhs: Expression {
                                                                kind: FieldAccess {
                                                                    receiver: Expression {
                                                                        kind: Path(
                                                                            Path {
                                                                                segments: [
                                                                                    Identifier {
                                                                                        name: "self",
                                                                                        span: Span {
                                                                                            start: 296,
                                                                                            end: 300,
                                                                                        },
                                                                                    },
                                                                                ],
                                                                                span: Span {
                                                                                    start: 296,
                                                                                    end: 300,
                                                                                },
                                                                            },
                                                                        ),
                                                                        span: Span {
                                                                            start: 296,
                                                                            end: 300,
                                                                        },
                                                                    },
                                                                    field_name: Identifier {
                                                                        name: "x",
                                                                        span: Span {
                                                                            start: 301,
                                                                            end: 302,
                                                                        },
                                                                    },
                                                                },
                                                                span: Span {
                                                                    start: 296,
                                                                    end: 302,
                                                                },
                                                            },
                                                        },
                                                        span: Span {
                                                            start: 287,
                                                            end: 302,
                                                        },
                                                    },
                                                    op: Add,
                                                    rhs: Expression {
                                                        kind: Binary {
                                                            lhs: Expression {
                                                                kind: FieldAccess {
                                                                    receiver: Expression {
                                                                        kind: Path(
                                                                            Path {
                                                                                segments: [
                                                                                    Identifier {
                                                                                        name: "self",
                                                                                        span: Span {
                                                                                            start: 305,
                                                                                            end: 309,
                                                                                        },
                                                                                    },
                                                                                ],
                                                                                span: Span {
                                                                                    start: 305,
                                                                                    end: 309,
                                                                                },
                                                                            },
                                                                        ),
                                                                        span: Span {
                                                                            start: 305,
                                                                            end: 309,
                                                                        },
                                                                    },
                                                                    field_name: Identifier {
                                                                        name: "y",
                                                                        span: Span {
                                                                            start: 310,
                                                                            end: 311,
                                                                        },
                                                                    },
                                                                },
                                                                span: Span {
                                                                    start: 305,
                                                                    end: 311,
                                                                },
                                                            },
                                                            op: Multiply,
                                                            rhs: Expression {
                                                                kind: FieldAccess {
                                                                    receiver: Expression {
                                                                        kind: Path(
                                                                            Path {
                                                                                segments: [
                                                                                    Identifier {
                                                                                        name: "self",
                                                                                        span: Span {
                                                                                            start: 314,
                                                                                            end: 318,
                                                                                        },
                                                                                    },
                                                                                ],
                                                                                span: Span {
                                                                                    start: 314,
                                                                                    end: 318,
                                                                                },
                                                                            },
                                                                        ),
                                                                        span: Span {
                                                                            start: 314,
                                                                            end: 318,
                                                                        },
                                                                    },
                                                                    field_name: Identifier {
                                                                        name: "y",
                                                                        span: Span {
                                                                            start: 319,
                                                                            end: 320,
                                                                        },
                                                                    },
                                                                },
                                                                span: Span {
                                                                    start: 314,
                                                                    end: 320,
                                                                },
                                                            },
                                                        },
                                                        span: Span {
                                                            start: 305,
                                                            end: 320,
                                                        },
                                                    },
                                                },
                                                span: Span {
                                                    start: 287,
                                                    end: 320,
                                                },
                                            },
                                        ),
                                    ),
                                    span: Span {
                                        start: 283,
                                        end: 321,
                                    },
                                },
                            ],
                            span: Span {
                                start: 273,
                                end: 327,
                            },
                        },
                        is_pub: true,
                        span: Span {
                            start: 239,
                            end: 327,
                        },
                    },
                    FunctionDefinition {
                        name: Identifier {
                            name: "move_by",
                            span: Span {
                                start: 340,
                                end: 347,
                            },
                        },
                        params: [
                            Parameter {
                                name: Identifier {
                                    name: "self",
                                    span: Span {
                                        start: 352,
                                        end: 356,
                                    },
                                },
                                ty: Type {
                                    kind: Named(
                                        Path {
                                            segments: [
                                                Identifier {
                                                    name: "Point",
                                                    span: Span {
                                                        start: 144,
                                                        end: 149,
                                                    },
                                                },
                                            ],
                                            span: Span {
                                                start: 144,
                                                end: 149,
                                            },
                                        },
                                    ),
                                    span: Span {
                                        start: 144,
                                        end: 149,
                                    },
                                },
                                is_mutable: true,
                                is_self: true,
                            },
                            Parameter {
                                name: Identifier {
                                    name: "dx",
                                    span: Span {
                                        start: 358,
                                        end: 360,
                                    },
                                },
                                ty: Type {
                                    kind: Primitive(
                                        I32,
                                    ),
                                    span: Span {
                                        start: 362,
                                        end: 365,
                                    },
                                },
                                is_mutable: false,
                                is_self: false,
                            },
                            Parameter {
                                name: Identifier {
                                    name: "dy",
                                    span: Span {
                                        start: 367,
                                        end: 369,
                                    },
                                },
                                ty: Type {
                                    kind: Primitive(
                                        I32,
                                    ),
                                    span: Span {
                                        start: 371,
                                        end: 374,
                                    },
                                },
                                is_mutable: false,
                                is_self: false,
                            },
                        ],
                        return_type: None,
                        body: Block {
                            stmts: [
                                Statement {
                                    kind: Assignment {
                                        lhs: Expression {
                                            kind: FieldAccess {
                                                receiver: Expression {
                                                    kind: Path(
                                                        Path {
                                                            segments: [
                                                                Identifier {
                                                                    name: "self",
                                                                    span: Span {
                                                                        start: 386,
                                                                        end: 390,
                                                                    },
                                                                },
                                                            ],
                                                            span: Span {
                                                                start: 386,
                                                                end: 390,
                                                            },
                                                        },
                                                    ),
                                                    span: Span {
                                                        start: 386,
                                                        end: 390,
                                                    },
                                                },
                                                field_name: Identifier {
                                                    name: "x",
                                                    span: Span {
                                                        start: 391,
                                                        end: 392,
                                                    },
                                                },
                                            },
                                            span: Span {
                                                start: 386,
                                                end: 392,
                                            },
                                        },
                                        rhs: Expression {
                                            kind: Binary {
                                                lhs: Expression {
                                                    kind: FieldAccess {
                                                        receiver: Expression {
                                                            kind: Path(
                                                                Path {
                                                                    segments: [
                                                                        Identifier {
                                                                            name: "self",
                                                                            span: Span {
                                                                                start: 395,
                                                                                end: 399,
                                                                            },
                                                                        },
                                                                    ],
                                                                    span: Span {
                                                                        start: 395,
                                                                        end: 399,
                                                                    },
                                                                },
                                                            ),
                                                            span: Span {
                                                                start: 395,
                                                                end: 399,
                                                            },
                                                        },
                                                        field_name: Identifier {
                                                            name: "x",
                                                            span: Span {
                                                                start: 400,
                                                                end: 401,
                                                            },
                                                        },
                                                    },
                                                    span: Span {
                                                        start: 395,
                                                        end: 401,
                                                    },
                                                },
                                                op: Add,
                                                rhs: Expression {
                                                    kind: Path(
                                                        Path {
                                                            segments: [
                                                                Identifier {
                                                                    name: "dx",
                                                                    span: Span {
                                                                        start: 404,
                                                                        end: 406,
                                                                    },
                                                                },
                                                            ],
                                                            span: Span {
                                                                start: 404,
                                                                end: 406,
                                                            },
                                                        },
                                                    ),
                                                    span: Span {
                                                        start: 404,
                                                        end: 406,
                                                    },
                                                },
                                            },
                                            span: Span {
                                                start: 395,
                                                end: 406,
                                            },
                                        },
                                    },
                                    span: Span {
                                        start: 386,
                                        end: 407,
                                    },
                                },
                                Statement {
                                    kind: Assignment {
                                        lhs: Expression {
                                            kind: FieldAccess {
                                                receiver: Expression {
                                                    kind: Path(
                                                        Path {
                                                            segments: [
                                                                Identifier {
                                                                    name: "self",
                                                                    span: Span {
                                                                        start: 416,
                                                                        end: 420,
                                                                    },
                                                                },
                                                            ],
                                                            span: Span {
                                                                start: 416,
                                                                end: 420,
                                                            },
                                                        },
                                                    ),
                                                    span: Span {
                                                        start: 416,
                                                        end: 420,
                                                    },
                                                },
                                                field_name: Identifier {
                                                    name: "y",
                                                    span: Span {
                                                        start: 421,
                                                        end: 422,
                                                    },
                                                },
                                            },
                                            span: Span {
                                                start: 416,
                                                end: 422,
                                            },
                                        },
                                        rhs: Expression {
                                            kind: Binary {
                                                lhs: Expression {
                                                    kind: FieldAccess {
                                                        receiver: Expression {
                                                            kind: Path(
                                                                Path {
                                                                    segments: [
                                                                        Identifier {
                                                                            name: "self",
                                                                            span: Span {
                                                                                start: 425,
                                                                                end: 429,
                                                                            },
                                                                        },
                                                                    ],
                                                                    span: Span {
                                                                        start: 425,
                                                                        end: 429,
                                                                    },
                                                                },
                                                            ),
                                                            span: Span {
                                                                start: 425,
                                                                end: 429,
                                                            },
                                                        },
                                                        field_name: Identifier {
                                                            name: "y",
                                                            span: Span {
                                                                start: 430,
                                                                end: 431,
                                                            },
                                                        },
                                                    },
                                                    span: Span {
                                                        start: 425,
                                                        end: 431,
                                                    },
                                                },
                                                op: Add,
                                                rhs: Expression {
                                                    kind: Path(
                                                        Path {
                                                            segments: [
                                                                Identifier {
                                                                    name: "dy",
                                                                    span: Span {
                                                                        start: 434,
                                                                        end: 436,
                                                                    },
                                                                },
                                                            ],
                                                            span: Span {
                                                                start: 434,
                                                                end: 436,
                                                            },
                                                        },
                                                    ),
                                                    span: Span {
                                                        start: 434,
                                                        end: 436,
                                                    },
                                                },
                                            },
                                            span: Span {
                                                start: 425,
                                                end: 436,
                                            },
                                        },
                                    },
                                    span: Span {
                                        start: 416,
                                        end: 437,
                                    },
                                },
                            ],
                            span: Span {
                                start: 376,
                                end: 443,
                            },
                        },
                        is_pub: false,
                        span: Span {
                            start: 337,
                            end: 443,
                        },
                    },
                ],
            },
            span: Span {
                start: 136,
                end: 445,
            },
        },
        Item {
            kind: FunctionDecl(
                FunctionDefinition {
                    name: Identifier {
                        name: "main",
                        span: Span {
                            start: 454,
                            end: 458,
                        },
                    },
                    params: [],
                    return_type: Some(
                        Type {
                            kind: Primitive(
                                I32,
                            ),
                            span: Span {
                                start: 464,
                                end: 467,
                            },
                        },
                    ),
                    body: Block {
                        stmts: [
                            Statement {
                                kind: VariableDeclaration {
                                    modifier: Mutable,
                                    name: Identifier {
                                        name: "p",
                                        span: Span {
                                            start: 478,
                                            end: 479,
                                        },
                                    },
                                    type_annotation: Type {
                                        kind: Named(
                                            Path {
                                                segments: [
                                                    Identifier {
                                                        name: "Point",
                                                        span: Span {
                                                            start: 481,
                                                            end: 486,
                                                        },
                                                    },
                                                ],
                                                span: Span {
                                                    start: 481,
                                                    end: 486,
                                                },
                                            },
                                        ),
                                        span: Span {
                                            start: 481,
                                            end: 486,
                                        },
                                    },
                                    initializer: Some(
                                        Expression {
                                            kind: Call {
                                                callee: Expression {
                                                    kind: Path(
                                                        Path {
                                                            segments: [
                                                                Identifier {
                                                                    name: "Point",
                                                                    span: Span {
                                                                        start: 489,
                                                                        end: 494,
                                                                    },
                                                                },
                                                                Identifier {
                                                                    name: "new",
                                                                    span: Span {
                                                                        start: 496,
                                                                        end: 499,
                                                                    },
                                                                },
                                                            ],
                                                            span: Span {
                                                                start: 489,
                                                                end: 499,
                                                            },
                                                        },
                                                    ),
                                                    span: Span {
                                                        start: 489,
                                                        end: 499,
                                                    },
                                                },
                                                arguments: [
                                                    Expression {
                                                        kind: Literal(
                                                            Integer(
                                                                10,
                                                            ),
                                                        ),
                                                        span: Span {
                                                            start: 500,
                                                            end: 502,
                                                        },
                                                    },
                                                    Expression {
                                                        kind: Literal(
                                                            Integer(
                                                                20,
                                                            ),
                                                        ),
                                                        span: Span {
                                                            start: 504,
                                                            end: 506,
                                                        },
                                                    },
                                                ],
                                            },
                                            span: Span {
                                                start: 489,
                                                end: 507,
                                            },
                                        },
                                    ),
                                },
                                span: Span {
                                    start: 474,
                                    end: 508,
                                },
                            },
                            Statement {
                                kind: VariableDeclaration {
                                    modifier: Constant,
                                    name: Identifier {
                                        name: "LIMIT",
                                        span: Span {
                                            start: 519,
                                            end: 524,
                                        },
                                    },
                                    type_annotation: Type {
                                        kind: Primitive(
                                            I32,
                                        ),
                                        span: Span {
                                            start: 526,
                                            end: 529,
                                        },
                                    },
                                    initializer: Some(
                                        Expression {
                                            kind: Literal(
                                                Integer(
                                                    100,
                                                ),
                                            ),
                                            span: Span {
                                                start: 532,
                                                end: 535,
                                            },
                                        },
                                    ),
                                },
                                span: Span {
                                    start: 513,
                                    end: 536,
                                },
                            },
                            Statement {
                                kind: If {
                                    condition: Expression {
                                        kind: Binary {
                                            lhs: Expression {
                                                kind: FieldAccess {
                                                    receiver: Expression {
                                                        kind: Path(
                                                            Path {
                                                                segments: [
                                                                    Identifier {
                                                                        name: "p",
                                                                        span: Span {
                                                                            start: 546,
                                                                            end: 547,
                                                                        },
                                                                    },
                                                                ],
                                                                span: Span {
                                                                    start: 546,
                                                                    end: 547,
                                                                },
                                                            },
                                                        ),
                                                        span: Span {
                                                            start: 546,
                                                            end: 547,
                                                        },
                                                    },
                                                    field_name: Identifier {
                                                        name: "x",
                                                        span: Span {
                                                            start: 548,
                                                            end: 549,
                                                        },
                                                    },
                                                },
                                                span: Span {
                                                    start: 546,
                                                    end: 549,
                                                },
                                            },
                                            op: Less,
                                            rhs: Expression {
                                                kind: Path(
                                                    Path {
                                                        segments: [
                                                            Identifier {
                                                                name: "LIMIT",
                                                                span: Span {
                                                                    start: 552,
                                                                    end: 557,
                                                                },
                                                            },
                                                        ],
                                                        span: Span {
                                                            start: 552,
                                                            end: 557,
                                                        },
                                                    },
                                                ),
                                                span: Span {
                                                    start: 552,
                                                    end: 557,
                                                },
                                            },
                                        },
                                        span: Span {
                                            start: 546,
                                            end: 557,
                                        },
                                    },
                                    then_block: Block {
                                        stmts: [
                                            Statement {
                                                kind: ExpressionStatement(
                                                    Expression {
                                                        kind: MethodCall {
                                                            receiver: Expression {
                                                                kind: Path(
                                                                    Path {
                                                                        segments: [
                                                                            Identifier {
                                                                                name: "p",
                                                                                span: Span {
                                                                                    start: 569,
                                                                                    end: 570,
                                                                                },
                                                                            },
                                                                        ],
                                                                        span: Span {
                                                                            start: 569,
                                                                            end: 570,
                                                                        },
                                                                    },
                                                                ),
                                                                span: Span {
                                                                    start: 569,
                                                                    end: 570,
                                                                },
                                                            },
                                                            method_name: Identifier {
                                                                name: "move_by",
                                                                span: Span {
                                                                    start: 571,
                                                                    end: 578,
                                                                },
                                                            },
                                                            arguments: [
                                                                Expression {
                                                                    kind: Literal(
                                                                        Integer(
                                                                            1,
                                                                        ),
                                                                    ),
                                                                    span: Span {
                                                                        start: 579,
                                                                        end: 580,
                                                                    },
                                                                },
                                                                Expression {
                                                                    kind: Literal(
                                                                        Integer(
                                                                            1,
                                                                        ),
                                                                    ),
                                                                    span: Span {
                                                                        start: 582,
                                                                        end: 583,
                                                                    },
                                                                },
                                                            ],
                                                        },
                                                        span: Span {
                                                            start: 569,
                                                            end: 584,
                                                        },
                                                    },
                                                ),
                                                span: Span {
                                                    start: 569,
                                                    end: 585,
                                                },
                                            },
                                        ],
                                        span: Span {
                                            start: 559,
                                            end: 591,
                                        },
                                    },
                                    else_branch: Some(
                                        Statement {
                                            kind: Block(
                                                Block {
                                                    stmts: [
                                                        Statement {
                                                            kind: Return(
                                                                Some(
                                                                    Expression {
                                                                        kind: Literal(
                                                                            Integer(
                                                                                1,
                                                                            ),
                                                                        ),
                                                                        span: Span {
                                                                            start: 611,
                                                                            end: 612,
                                                                        },
                                                                    },
                                                                ),
                                                            ),
                                                            span: Span {
                                                                start: 607,
                                                                end: 613,
                                                            },
                                                        },
                                                    ],
                                                    span: Span {
                                                        start: 597,
                                                        end: 619,
                                                    },
                                                },
                                            ),
                                            span: Span {
                                                start: 597,
                                                end: 619,
                                            },
                                        },
                                    ),
                                },
                                span: Span {
                                    start: 542,
                                    end: 619,
                                },
                            },
                            Statement {
                                kind: Switch {
                                    target: Expression {
                                        kind: FieldAccess {
                                            receiver: Expression {
                                                kind: Path(
                                                    Path {
                                                        segments: [
                                                            Identifier {
                                                                name: "p",
                                                                span: Span {
                                                                    start: 633,
                                                                    end: 634,
                                                                },
                                                            },
                                                        ],
                                                        span: Span {
                                                            start: 633,
                                                            end: 634,
                                                        },
                                                    },
                                                ),
                                                span: Span {
                                                    start: 633,
                                                    end: 634,
                                                },
                                            },
                                            field_name: Identifier {
                                                name: "y",
                                                span: Span {
                                                    start: 635,
                                                    end: 636,
                                                },
                                            },
                                        },
                                        span: Span {
                                            start: 633,
                                            end: 636,
                                        },
                                    },
                                    cases: [
                                        SwitchCase {
                                            patterns: [
                                                Expression {
                                                    kind: Literal(
                                                        Integer(
                                                            10,
                                                        ),
                                                    ),
                                                    span: Span {
                                                        start: 648,
                                                        end: 650,
                                                    },
                                                },
                                                Expression {
                                                    kind: Literal(
                                                        Integer(
                                                            20,
                                                        ),
                                                    ),
                                                    span: Span {
                                                        start: 653,
                                                        end: 655,
                                                    },
                                                },
                                            ],
                                            body: Block {
                                                stmts: [
                                                    Statement {
                                                        kind: ExpressionStatement(
                                                            Expression {
                                                                kind: Call {
                                                                    callee: Expression {
                                                                        kind: Path(
                                                                            Path {
                                                                                segments: [
                                                                                    Identifier {
                                                                                        name: "print",
                                                                                        span: Span {
                                                                                            start: 673,
                                                                                            end: 678,
                                                                                        },
                                                                                    },
                                                                                ],
                                                                                span: Span {
                                                                                    start: 673,
                                                                                    end: 678,
                                                                                },
                                                                            },
                                                                        ),
                                                                        span: Span {
                                                                            start: 673,
                                                                            end: 678,
                                                                        },
                                                                    },
                                                                    arguments: [
                                                                        Expression {
                                                                            kind: FieldAccess {
                                                                                receiver: Expression {
                                                                                    kind: Path(
                                                                                        Path {
                                                                                            segments: [
                                                                                                Identifier {
                                                                                                    name: "p",
                                                                                                    span: Span {
                                                                                                        start: 679,
                                                                                                        end: 680,
                                                                                                    },
                                                                                                },
                                                                                            ],
                                                                                            span: Span {
                                                                                                start: 679,
                                                                                                end: 680,
                                                                                            },
                                                                                        },
                                                                                    ),
                                                                                    span: Span {
                                                                                        start: 679,
                                                                                        end: 680,
                                                                                    },
                                                                                },
                                                                                field_name: Identifier {
                                                                                    name: "y",
                                                                                    span: Span {
                                                                                        start: 681,
                                                                                        end: 682,
                                                                                    },
                                                                                },
                                                                            },
                                                                            span: Span {
                                                                                start: 679,
                                                                                end: 682,
                                                                            },
                                                                        },
                                                                    ],
                                                                },
                                                                span: Span {
                                                                    start: 673,
                                                                    end: 683,
                                                                },
                                                            },
                                                        ),
                                                        span: Span {
                                                            start: 673,
                                                            end: 684,
                                                        },
                                                    },
                                                ],
                                                span: Span {
                                                    start: 659,
                                                    end: 694,
                                                },
                                            },
                                            span: Span {
                                                start: 648,
                                                end: 694,
                                            },
                                        },
                                        SwitchCase {
                                            patterns: [
                                                Expression {
                                                    kind: Literal(
                                                        Integer(
                                                            30,
                                                        ),
                                                    ),
                                                    span: Span {
                                                        start: 703,
                                                        end: 705,
                                                    },
                                                },
                                            ],
                                            body: Block {
                                                stmts: [
                                                    Statement {
                                                        kind: Return(
                                                            Some(
                                                                Expression {
                                                                    kind: Literal(
                                                                        Integer(
                                                                            3,
                                                                        ),
                                                                    ),
                                                                    span: Span {
                                                                        start: 713,
                                                                        end: 714,
                                                                    },
                                                                },
                                                            ),
                                                        ),
                                                        span: Span {
                                                            start: 709,
                                                            end: 715,
                                                        },
                                                    },
                                                ],
                                                span: Span {
                                                    start: 709,
                                                    end: 715,
                                                },
                                            },
                                            span: Span {
                                                start: 703,
                                                end: 715,
                                            },
                                        },
                                    ],
                                    default_case: Some(
                                        Block {
                                            stmts: [
                                                Statement {
                                                    kind: Return(
                                                        Some(
                                                            Expression {
                                                                kind: Literal(
                                                                    Integer(
                                                                        0,
                                                                    ),
                                                                ),
                                                                span: Span {
                                                                    start: 739,
                                                                    end: 740,
                                                                },
                                                            },
                                                        ),
                                                    ),
                                                    span: Span {
                                                        start: 735,
                                                        end: 741,
                                                    },
                                                },
                                            ],
                                            span: Span {
                                                start: 735,
                                                end: 741,
                                            },
                                        },
                                    ),
                                },
                                span: Span {
                                    start: 625,
                                    end: 747,
                                },
                            },
                            Statement {
                                kind: While {
                                    condition: Expression {
                                        kind: Binary {
                                            lhs: Expression {
                                                kind: FieldAccess {
                                                    receiver: Expression {
                                                        kind: Path(
                                                            Path {
                                                                segments: [
                                                                    Identifier {
                                                                        name: "p",
                                                                        span: Span {
                                                                            start: 760,
                                                                            end: 761,
                                                                        },
                                                                    },
                                                                ],
                                                                span: Span {
                                                                    start: 760,
                                                                    end: 761,
                                                                },
                                                            },
                                                        ),
                                                        span: Span {
                                                            start: 760,
                                                            end: 761,
                                                        },
                                                    },
                                                    field_name: Identifier {
                                                        name: "x",
                                                        span: Span {
                                                            start: 762,
                                                            end: 763,
                                                        },
                                                    },
                                                },
                                                span: Span {
                                                    start: 760,
                                                    end: 763,
                                                },
                                            },
                                            op: Greater,
                                            rhs: Expression {
                                                kind: Literal(
                                                    Integer(
                                                        0,
                                                    ),
                                                ),
                                                span: Span {
                                                    start: 766,
                                                    end: 767,
                                                },
                                            },
                                        },
                                        span: Span {
                                            start: 760,
                                            end: 767,
                                        },
                                    },
                                    init_statement: Some(
                                        Statement {
                                            kind: VariableDeclaration {
                                                modifier: Mutable,
                                                name: Identifier {
                                                    name: "i",
                                                    span: Span {
                                                        start: 775,
                                                        end: 776,
                                                    },
                                                },
                                                type_annotation: Type {
                                                    kind: Primitive(
                                                        I32,
                                                    ),
                                                    span: Span {
                                                        start: 778,
                                                        end: 781,
                                                    },
                                                },
                                                initializer: Some(
                                                    Expression {
                                                        kind: Literal(
                                                            Integer(
                                                                0,
                                                            ),
                                                        ),
                                                        span: Span {
                                                            start: 784,
                                                            end: 785,
                                                        },
                                                    },
                                                ),
                                            },
                                            span: Span {
                                                start: 771,
                                                end: 786,
                                            },
                                        },
                                    ),
                                    body: Block {
                                        stmts: [
                                            Statement {
                                                kind: Assignment {
                                                    lhs: Expression {
                                                        kind: FieldAccess {
                                                            receiver: Expression {
                                                                kind: Path(
                                                                    Path {
                                                                        segments: [
                                                                            Identifier {
                                                                                name: "p",
                                                                                span: Span {
                                                                                    start: 797,
                                                                                    end: 798,
                                                                                },
                                                                            },
                                                                        ],
                                                                        span: Span {
                                                                            start: 797,
                                                                            end: 798,
                                                                        },
                                                                    },
                                                                ),
                                                                span: Span {
                                                                    start: 797,
                                                                    end: 798,
                                                                },
                                                            },
                                                            field_name: Identifier {
                                                                name: "x",
                                                                span: Span {
                                                                    start: 799,
                                                                    end: 800,
                                                                },
                                                            },
                                                        },
                                                        span: Span {
                                                            start: 797,
                                                            end: 800,
                                                        },
                                                    },
                                                    rhs: Expression {
                                                        kind: Binary {
                                                            lhs: Expression {
                                                                kind: FieldAccess {
                                                                    receiver: Expression {
                                                                        kind: Path(
                                                                            Path {
                                                                                segments: [
                                                                                    Identifier {
                                                                                        name: "p",
                                                                                        span: Span {
                                                                                            start: 803,
                                                                                            end: 804,
                                                                                        },
                                                                                    },
                                                                                ],
                                                                                span: Span {
                                                                                    start: 803,
                                                                                    end: 804,
                                                                                },
                                                                            },
                                                                        ),
                                                                        span: Span {
                                                                            start: 803,
                                                                            end: 804,
                                                                        },
                                                                    },
                                                                    field_name: Identifier {
                                                                        name: "x",
                                                                        span: Span {
                                                                            start: 805,
                                                                            end: 806,
                                                                        },
                                                                    },
                                                                },
                                                                span: Span {
                                                                    start: 803,
                                                                    end: 806,
                                                                },
                                                            },
                                                            op: Subtract,
                                                            rhs: Expression {
                                                                kind: Literal(
                                                                    Integer(
                                                                        1,
                                                                    ),
                                                                ),
                                                                span: Span {
                                                                    start: 809,
                                                                    end: 810,
                                                                },
                                                            },
                                                        },
                                                        span: Span {
                                                            start: 803,
                                                            end: 810,
                                                        },
                                                    },
                                                },
                                                span: Span {
                                                    start: 797,
                                                    end: 811,
                                                },
                                            },
                                            Statement {
                                                kind: If {
                                                    condition: Expression {
                                                        kind: Binary {
                                                            lhs: Expression {
                                                                kind: Path(
                                                                    Path {
                                                                        segments: [
                                                                            Identifier {
                                                                                name: "i",
                                                                                span: Span {
                                                                                    start: 824,
                                                                                    end: 825,
                                                                                },
                                                                            },
                                                                        ],
                                                                        span: Span {
                                                                            start: 824,
                                                                            end: 825,
                                                                        },
                                                                    },
                                                                ),
                                                                span: Span {
                                                                    start: 824,
                                                                    end: 825,
                                                                },
                                                            },
                                                            op: Greater,
                                                            rhs: Expression {
                                                                kind: Literal(
                                                                    Integer(
                                                                        10,
                                                                    ),
                                                                ),
                                                                span: Span {
                                                                    start: 828,
                                                                    end: 830,
                                                                },
                                                            },
                                                        },
                                                        span: Span {
                                                            start: 824,
                                                            end: 830,
                                                        },
                                                    },
                                                    then_block: Block {
                                                        stmts: [
                                                            Statement {
                                                                kind: Break,
                                                                span: Span {
                                                                    start: 834,
                                                                    end: 840,
                                                                },
                                                            },
                                                        ],
                                                        span: Span {
                                                            start: 832,
                                                            end: 842,
                                                        },
                                                    },
                                                    else_branch: None,
                                                },
                                                span: Span {
                                                    start: 820,
                                                    end: 842,
                                                },
                                            },
                                        ],
                                        span: Span {
                                            start: 787,
                                            end: 848,
                                        },
                                    },
                                },
                                span: Span {
                                    start: 753,
                                    end: 848,
                                },
                            },
                            Statement {
                                kind: Return(
                                    Some(
                                        Expression {
                                            kind: Literal(
                                                Integer(
                                                    0,
                                                ),
                                            ),
                                            span: Span {
                                                start: 858,
                                                end: 859,
                                            },
                                        },
                                    ),
                                ),
                                span: Span {
                                    start: 854,
                                    end: 860,
                                },
                            },
                        ],
                        span: Span {
                            start: 468,
                            end: 862,
                        },
                    },
                    is_pub: true,
                    span: Span {
                        start: 447,
                        end: 862,
                    },
                },
            ),
            span: Span {
                start: 447,
                end: 862,
            },
        },
    ],
}
